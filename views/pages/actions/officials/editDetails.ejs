<%- include('../../../template/header') -%>

<div class="wrapper">
    <%- include('../../../template/sidebar') -%>
    <div class="main-panel">
        <%- include('../../../template/navbar') -%>
        <div class="content">
            <div class="container-fluid">

                <!-- your content here -->
                <h3 class="text-center" style='margin-top:0.2em; font-weight:bolder;'><span class="underline--magical">Edit Official's Information</span></h3>
                <br>

                <!--Start MultiStep Form -->
                <div class="row">
                    <div class="col-md-10 col-md-offset-1">
                        <form action="/editDetails/<%= output.id %>" id="msform" method="post" role="form">
                            <!-- progressbar -->

                            <ul id="progressbar">
                                <li class="active"></li>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                                <li></li>
                            </ul>

                            <!-- fieldsets -->

                            <!-- Basic Info(1) -->
                            <fieldset>
                                <h2 class="fs-title">Employee Basic Information</h2>

                                <div class="text-left">

                                    <label for="emp_name">Employee Name</label>
                                    <input type="text" name="emp_name" value="<%= output.basicInfo.employeeName %>" />

                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="f_name">Father's Name</label>
                                            <input type="text" name="f_name" value="<%= output.basicInfo.fatherName %>" />
                                        </div>

                                        <div class="col-md-6">
                                            <label for="m_name">Mother's Name</label>
                                            <input type="text" name="m_name" value="<%= output.basicInfo.motherName %>" />
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="emp_deg">Designation</label>
                                            <input type="text" name="emp_deg" value="<%= output.basicInfo.designation %>" />
                                        </div>

                                        <div class="col-md-6">
                                            <label for="n_id">National ID</label>
                                            <input type="text" name="n_id" value="<%= output.basicInfo.nationalID %>"/>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-4">
                                            <label for="div">Select Division (Must be selected)</label>
                                            <select name="div">
                                                <option value="" selected hidden> Choose Division </option>
                                                <option label="<%= output.basicInfo.division %>" value="<%= output.basicInfo.division.id %>"></option>

                                                <% divDetails.forEach((entry) => { %>
                                                    <option label="<%= entry.divisionName %>" value="<%= entry.id %>"></option>
                                                <% }); %>
                                            </select>
                                        </div>

                                        <div class="col-md-4">
                                            <label for="department">Select Department</label>
                                            <select name="department" value="<%= output.basicInfo.department %>">
                                                <option value="" selected hidden>Choose Department</option>
                                                <option value="Human Resource">Human Resource</option>
                                                <option value="Establishment">Establishment</option>
                                                <option value="Services & Logistic">Services & Logistic</option>
                                                <option value="Health Care">Health Care</option>
                                                <option value="Company Affairs">Company Affairs</option>
                                                <option value="PLant Operation">PLant Operation</option>
                                                <option value="Marketing">Marketing</option>
                                                <option value="Engineering Services">Engineering Services</option>
                                                <option value="Ashuganj Condensate Handling">Ashuganj Condensate Handling</option>
                                                <option value="CNG Sales and Service">CNG Sales and Service</option>
                                                <option value="CNG Permission & Monitoring">CNG Permission & Monitoring</option>
                                                <option value="Planning">Planning</option>
                                                <option value="Development">Development</option>                                    
                                            </select>                                               
                                        </div>

                                        <div class="col-md-4">
                                            <label for="section">Select Section</label>
                                            <select name="section" value="<%= output.basicInfo.section %>">
                                                <option value="" selected hidden>Choose Section</option>
                                                <option value="Personnel">Personnel</option>
                                                <option value="HRD">HRD</option>
                                                <option value="Establishment">Establishment</option>
                                                <option value="Procurement">Procurement</option>
                                                <option value="Security, Estate & Services">Security, Estate & Services</option>
                                                <option value="Store">Store</option>
                                                <option value="Transport and Maintainance">Transport and Maintainance</option>
                                                <option value="Board & Share">Board & Share</option>
                                                <option value="Production">Production</option>
                                                <option value="Field Admin">Field Admin</option>
                                                <option value="Accounts">Accounts</option>
                                                <option value="Marketing">Marketing</option>
                                                <option value="Quality COntrol">Quality COntrol</option>
                                                <option value="Environment and Safety">Environment and Safety</option>
                                                <option value="Maintenance">Maintenance</option>
                                                <option value="Ashuganj Condensate Handling">Ashuganj Condensate Handling</option>
                                                <option value="Central Workshop">Central Workshop</option>
                                                <option value="Zonal Workshop">Zonal Workshop</option>
                                                <option value="Permission and Monitoring">Permission and Monitoring</option>
                                                <option value="Planning">Planning</option>
                                                <option value="ICT">ICT</option>
                                                <option value="Development and In House Training">Development and In House Training</option>
                                                <option value="General Accounts">General Accounts</option>
                                                <option value="Payroll">Payroll</option>
                                                <option value="Bill and Revenue">Bill and Revenue</option>
                                                <option value="Cost and Insurance">Cost and Insurance</option>
                                                <option value="Finance and Budget">Finance and Budget</option>

                                            </select>      
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-4">
                                            <label for="reg">Religion</label>
                                            <select name="reg" value="<%= output.basicInfo.religion %>">
                                                
                                                <option value="Islam">Islam</option>
                                                <option value="Hindu">Hindu</option>
                                                <option value="Christian">Christian</option>
                                                <option value="Buddha">Buddha</option>
                                                <option value="Others">Others</option>
                                            </select>
                                        </div>

                                        <div class="col-md-4">
                                            <label for="gen">Gender</label>
                                            <select name="gen" value="<%= output.basicInfo.gender %>">
                                                
                                                <option value="Male">Male</option>
                                                <option value="Female">Female</option>
                                                <option value="Others">Others</option>
                                            </select>
                                        </div>

                                        <div class="col-md-4">
                                            <label for="dob">Date of Birth</label>
                                            <input type="date" name="dob"  value="<%= output.basicInfo.dateOfbirth %>"/>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-4">
                                            <label for="blood">Blood Group</label>
                                            <select name="blood" value="<%= output.basicInfo.bloodGroup %>" >

                                                <option value="A+">A+</option>
                                                <option value="AB+">AB+</option>
                                                <option value="B+">B+</option>
                                                <option value="0+">0+</option>
                                                <option value="A-">A-</option>
                                                <option value="AB-">AB-</option>
                                                <option value="B-">B-</option>
                                                <option value="0-">0-</option>
                                                <option value="Others">Others</option>
                                            </select>
                                        </div>

                                        <div class="col-md-4">
                                            <label for="district">District</label>
                                            <select name="district" value="<%= output.basicInfo.homeDistrict %>">

                                                <option value="কক্সবাজার">কক্সবাজার</option>
                                                <option value="কিশোরগঞ্জ">কিশোরগঞ্জ</option>
                                                <option value="কুড়িগ্রাম">কুড়িগ্রাম</option>
                                                <option value="কুমিল্লা">কুমিল্লা</option>
                                                <option value="কুষ্টিয়া">কুষ্টিয়া</option>
                                                <option value="খাগড়াছড়ি">খাগড়াছড়ি</option>                    
                                                
                                            </select>
                                        </div>

                                        <div class="col-md-4">
                                            <label for="marital_Status">Marital Status</label>
                                            <select name="marital_Status" value="<%= output.basicInfo.maritalStatus %>">
                                                
                                                <option value="Married">Married</option>
                                                <option value="Unmarried">Unmarried</option>
                                                <option value="Widowed">Widowed</option>
                                                <option value="Divorced">Divorced</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="email">Employee Email</label>
                                            <input type="text" name="email" value="<%= output.basicInfo.email %>"/>
                                        </div>

                                        <div class="col-md-6">
                                            <label for="phone">Employee Phone</label>
                                            <input type="text" name="phone" value="<%= output.basicInfo.phone %>"/>
                                        </div>
                                    </div>
                                </div>
                                
                                <input type="button" name="next" class="next action-button" value="Next"/>
                                
                            </fieldset>

                            <!-- Spouse Info(2) -->
                            <fieldset>
                                <h2 class="fs-title">Employee Spouse Information</h2>

                                <div class="text-left">

                                    <label for="emp_nominee_name">Employee Spouse Name</label>
                                    <input type="text" name="emp_nominee_name" value="<%= output.nomineeInfo.nomineeName %>"/>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="n_ocp">Employee Spouse Occupation</label>
                                            <input type="text" name="n_ocp" value="<%= output.nomineeInfo.nomineeOccupation %>"/>
                                        </div>

                                        <div class="col-md-6">
                                            <label for="n_relation">Employee Spouse Designation</label>
                                            <input type="text" name="n_relation" value="<%= output.nomineeInfo.nomineeRelation %>" />
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="n_org">Employee Spouse Organization</label>
                                            <input type="text" name="n_org" value="<%= output.nomineeInfo.nomineeOrganization %>" />
                                        </div>

                                        <div class="col-md-6">
                                            <label for="org_address">Organization Address</label>
                                            <input type="text" name="org_address" value="<%= output.nomineeInfo.nomineeOrganizationAddress %>"/>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="n_district">Spouse Home District</label>
                                            <select name="n_district" value="<%= output.nomineeInfo.nomineeHomeDistrict %>">
                                                
                                                <option value="কক্সবাজার">কক্সবাজার</option>
                                                <option value="কিশোরগঞ্জ">কিশোরগঞ্জ</option>
                                                <option value="কুড়িগ্রাম">কুড়িগ্রাম</option>
                                                
                                            </select>
                                        </div>

                                        <div class="col-md-6">
                                            <label for="n_phone">Personal Phone Number</label>
                                            <input type="text" name="n_phone" value="<%= output.nomineeInfo.nomineePhoneNo %>">
                                        </div>
                                    </div>
                                </div>
                                

                                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                                <input type="button" name="next" class="next action-button" value="Next"/>
                            </fieldset>

                            <!-- Address Info(3) -->
                            <fieldset>
                                <h2 class="fs-title">Employee Address Information</h2>
                                <h2 class="fs-title">Detailed Present Address</h2>

                                <!-- Present Address -->
                                <div class="text-left">                                   
                                    <textarea name="presentAddress"><%= output.address.present_address %></textarea>
                                </div>

                                <h2 class="fs-title">Detailed Permanent Address</h2>

                                <!-- Permanent Address -->
                                <div class="text-left">
                                    <textarea name="permanentAddress"><%= output.address.permanent_address %></textarea>
                                </div>

                                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                                <input type="button" name="next" class="next action-button" value="Next"/>
                            </fieldset>
                            
                            <!-- child info(4) -->
                            <fieldset>
                                <h2 class="fs-title">Employee Child Information</h2>

                                <% output.childInfo.forEach((entry) => { %>

                                    <div class="text-left">
                                        <label for="c_name">Child Name</label>
                                        <input type="text" name="c_name" value="<%= entry.child_name %>" />

                                        <label for="c_gender">Gender</label>
                                        <select name="c_gender" value="<%= entry.child_gender %>">
                                            
                                            <option value="Male" >Male</option>
                                            <option value="Female" >Female</option>
                                            <option value="Others" >Others</option>
                                        </select>

                                        <label for="c_dob">Date of Birth</label>
                                        <input type="date" name="c_dob" value="<%= moment(entry.child_dateOfBirth).format('DD-MMM-YYYY') %>"/>
                                    </div>

                                <% }); %>
                                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                                <input type="button" name="next" class="next action-button" value="Next"/>
                            </fieldset>

                            <!-- first joining info(5) -->
                            <fieldset>
                                <h2 class="fs-title">Employee First Joining Information</h2>

                                <div class="text-left">

                                    <div class="row">
                                        <div class="col-md-4">
                                            <label for="j_date">First Joining Date</label>
                                            <input type="date" name="j_date" value="<%= moment(output.firstJoinInfo.first_joining_date).format('DD-MMM-YYYY') %>" />
                                        </div>
                                        <div class="col-md-4">
                                            <label for="j_rank">Rank/Class</label>
                                            <input type="text" name="j_rank" value="<%= output.firstJoinInfo.rank %>"/>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="first_deg">First Designation</label>
                                            <input type="text" name="first_deg" value="<%= output.firstJoinInfo.first_designation %>"/>
                                        </div>
                                    </div>

                                    <h2 class="fs-title">First Posting Place</h2>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="j_district">District</label>
                                            <input type="text" name="j_district" value="<%= output.firstJoinInfo.first_posting_district %>"/>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="j_upazilla">Upazilla</label>
                                            <input type="text" name="j_upazilla" value="<%= output.firstJoinInfo.first_posting_upazilla %>"/>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="job_nature">Job Nature</label>
                                            <select name="job_nature" value="<%= output.firstJoinInfo.job_nature %>" >
                                                
                                                <option value="Revenue" >Revenue</option>
                                                <option value="Development" >Development</option>
                                            </select>
                                        </div>

                                        <div class="col-md-6">
                                            <label for="j_grade">Grade</label>
                                            <input type="text" name="j_grade" value="<%= output.firstJoinInfo.grade %>">
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-4">
                                            <label for="prl">PRL Date</label>
                                            <input type="date" name="prl" value="<%= moment(output.firstJoinInfo.PRL_date).format('DD-MMM-YYYY') %>"/>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="j_go">G.O Date</label>
                                            <input type="date" name="j_go" value="<%= moment(output.firstJoinInfo.GO_date).format('DD-MMM-YYYY') %>"/>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="confirmation_date">Confirmation On Date</label>
                                            <input type="date" name="confirmation_date" value="<%= moment(output.firstJoinInfo.confirmation_date).format('DD-MMM-YYYY') %>"/>
                                        </div>
                                    </div>

                                </div>

                                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                                <input type="button" name="next" class="next action-button" value="Next"/>
                            </fieldset>

                            <!-- educational information(6) -->
                            <fieldset>
                                <h2 class="fs-title">Educational Information</h2>
                                
                                <% output.eduInfo.forEach((entry) => { %>
                                    <div class="text-left">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label for="e_deg">Degree</label>
                                                <input type="text" name="e_deg" value="<%= entry.degree %>" />
                                            </div>
        
                                            <div class="col-md-6">
                                                <label for="e_grp">Group/Department</label>
                                                <input type="text" name="e_grp" value="<%= entry.group %>" />
                                            </div>
                                        </div>

                                        <label for="e_institution">Educational Institute</label>
                                        <input type="text" name="e_institution" value="<%= entry.institute %>" />

                                        <div class="row">
                                            <div class="col-md-4">
                                                <label for="e_board">Board</label>
                                                <input type="text" name="e_board" value="<%= entry.board %>"/>
                                            </div>

                                            <div class="col-md-4">
                                                <label for="e_result">Result</label>
                                                <input type="text" name="e_result" value="<%= entry.results %>"/>
                                            </div>

                                            <div class="col-md-4">
                                                <label for="pass_year">Passing Year</label>
                                                <input type="text" name="pass_year" value="<%= entry.passing_years %>"/>
                                            </div>
                                        </div>

                                    </div>
                                <% }); %>

                                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                                <input type="button" name="next" class="next action-button" value="Next"/>

                            </fieldset>

                            <!-- Employee Training(7) -->
                            <fieldset>
                                <h2 class="fs-title">Training Information</h2>
                                    <% output.trainingInfo.forEach((entry) => { %>
                                    <div class="text-left">

                                        <div class="row">
                                            <div class="col-md-8">
                                                <label for="t_type">Training Type</label>
                                                <select name="t_type" value="<%= entry.training_type %>">
                                                    
                                                    <option value="Local">Local</option>
                                                    <option value="Foreign">Foreign</option>
                                                </select>
                                            </div>

                                            <div class="col-md-4">
                                                <label for="t_course">Course Title</label>
                                                <input type="text" name="t_course" value="<%= entry.course_title %>"/>
                                            </div>
                                        </div>

                                        <label for="t_institution">Institution</label>
                                        <input type="text" name="t_institution" value="<%= entry.institution_name %>"/>

                                        <div class="row">
                                            <div class="col-md-4">
                                                <label for="t_country">Country</label>
                                                <input type="text" name="t_country" value="<%= entry.country %>"/>
                                            </div>

                                            <div class="col-md-4">
                                                <label for="t_start">Starting Date</label>
                                                <input type="date" name="t_start" value="<%= moment(entry.start_date).format('DD-MMM-YYYY') %>"/>
                                            </div>

                                            <div class="col-md-4">
                                                <label for="t_end">Ending Date</label>
                                                <input type="date" name="t_end" value="<%= moment(entry.end_date).format('DD-MMM-YYYY') %>"/>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-6">
                                                <label for="t_grade">Grade</label>
                                                <input type="text" name="t_grade" value="<%= entry.grade %>"/>
                                            </div>

                                            <div class="col-md-6">
                                                <label for="t_position">Position</label>
                                                <input type="text" name="t_position" value="<%= entry.position %>"/>
                                            </div>

                                        </div>
                                    </div>
                                <% }); %>
                                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                                <input type="button" name="next" class="next action-button" value="Next"/>    
                            </fieldset>
                            
                            <!-- Employee Posting(8) -->
                            <fieldset>
                                <h2 class="fs-title">Posting Workstation</h2>

                                <% output.postingInfo.forEach((entry) => { %>
                                    <div class="text-left">

                                        <div class="row">
                                            <div class="col-md-4">
                                                <label for="p_deg">Designation</label>
                                                <input type="text" name="p_deg" value="<%= entry.designation %>"/>
                                            </div>
                                            <div class="col-md-8">
                                                <label for="p_office">Office Name</label>
                                                <input type="text" name="p_office" value="<%= entry.office_name %>"/>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-6">
                                                <label for="p_from_date">From Date</label>    
                                                <input type="date" name="p_from_date" value="<%= moment(entry.from_date).format('DD-MMM-YYYY') %>" >                                        
                                            </div>
                                            <div class="col-md-6">
                                                <label for="p_to_date">To Date</label>    
                                                <input type="date" name="p_to_date" value="<%= moment(entry.to_date).format('DD-MMM-YYYY') %>"/>                                        
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-6">
                                                <label for="p_upazilla">Upazilla</label>
                                                <input type="text" name="p_upazilla" value="<%= entry.upazilla %>"/>
                                            </div>
                                            <div class="col-md-6">
                                                <label for="p_district">District</label>
                                                <input type="text" name="p_district" value="<%= entry.district %>"/>
                                            </div>
                                        </div>

                                    </div>
                                <% }); %>
                                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                                <input type="button" name="next" class="next action-button" value="Next"/>
                            </fieldset>

                            <!-- Promotion Statements(9) -->
                            <fieldset>
                                <h2 class="fs-title">Promotion Statements</h2>

                                <% output.promotionInfo.forEach((entry) => { %>
                                    <div class="text-left">

                                        <label for="pro_deg">Promoted Designation</label>
                                        <input type="text" name="pro_deg" value="<%= entry.promoted_designation %>"/>

                                        <label for="pro_nature">Promotion Nature</label>
                                        <input type="text" name="pro_nature" value="<%= entry.promotion_nature %>"/>

                                        <label for="pro_date">Promotion Date</label>
                                        <input type="date" name="pro_date" value="<%= moment(entry.promotion_date).format('DD-MMM-YYYY') %>"/>

                                        <div class="row">
                                            <div class="col-md-6">
                                                <label for="go_date">G.O. Date</label>
                                                <input type="date" name="go_date" value="<%= moment(entry.GO_date).format('DD-MMM-YYYY') %>"/>
                                            </div>
                                            <div class="col-md-6">
                                                <label for="go_number">G.O. Number</label>
                                                <input type="string" name="go_number" value="<%= entry.GO_number %>"/>
                                            </div>
                                        </div>

                                    </div>
                                <% }); %>
                                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                                <input type="button" name="next" class="next action-button" value="Next"/>
                            </fieldset>
                        
                            <!-- Employee Publication(10)  -->
                            <fieldset>
                                <h2 class="fs-title">Employee Publications</h2>

                                <% output.publicationInfo.forEach((entry) => { %>
                                    <div class="text-left">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label for="pub_type">Publication Type</label>
                                                <input type="text" name="pub_type" value="<%= entry.pub_type %>"/>
                                            </div>
                                            <div class="col-md-6">
                                                <label for="pub_date">Publication Date</label>
                                                <input type="date" name="pub_date" value="<%= moment(entry.date).format('DD-MMM-YYYY') %>"/>
                                            </div>
                                        </div>

                                        <label for="pub_des">Description</label>
                                        <textarea name="pub_des"><%= entry.description %></textarea>
                                    </div>
                                <% }); %>
                                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                                <input type="button" name="next" class="next action-button" value="Next"/>
                            </fieldset>

                            <!-- Disciplinary Action(11) -->
                            <fieldset>
                                <h2 class="fs-title">Employee Disciplinary Action</h2>

                                <% output.disciplineInfo.forEach((entry) => { %>
                                    <div class="text-left">
                                        <label for="occurance">Occurance</label>
                                        <textarea name="occurance"><%= entry.occurance %></textarea>

                                        <label for="occ_date">Occuring Date</label>
                                        <input type="date" name="occ_date" value="<%= moment(entry.occuring_date).format('DD-MM-YYYY') %>"/>

                                        <label for="occ_action">Action & Punishment</label>
                                        <textarea name="occ_action"><%= entry.action %></textarea>

                                        <div class="row">
                                            <div class="col-md-6">
                                                <label for="memo_no">Memo No.</label>
                                                <input type="text" name="memo_no" value="<%= entry.memo_No %>"/>
                                            </div>
                                            <div class="col-md-6">
                                                <label for="memo_date">Memo Date</label>
                                                <input type="date" name="memo_date" value="<%= moment(entry.memo_date).format('DD-MM-YYYY') %>"/>
                                            </div>
                                        </div>
                                    </div>
                                <% }); %>
                                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                                <input type="submit" name="submit" value="Update" class="btn btn-primary" style="background-color: #ee0979; color: white; font-weight:bolder">
                            
                            </fieldset>
                            
                        </form>
                    </div>
                </div>
                <!-- End of MultiStep Form -->
                
            </div>
        </div>
        <%- include('../../../template/footer') -%>
    </div>
</div>
<%- include('../../../template/footerlink') -%>
